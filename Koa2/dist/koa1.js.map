{"version":3,"sources":["../src/koa1.js"],"names":["Koa","require","app","logger","indent","n","Array","join","mid1","next","body","mid2","mid3","use","listen"],"mappings":";;;;;;;;AAAA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;AACA,IAAIC,MAAM,IAAIF,GAAJ,EAAV;AACA,IAAIG,SAASF,QAAQ,YAAR,CAAb;;AAEA,IAAIG,SAAS,SAATA,MAAS,CAAUC,CAAV,EAAY;AACrB,WAAOC,MAAMD,CAAN,EAASE,IAAT,CAAc,OAAd,CAAP;AACH,CAFD;;AAIA,IAAIC,OAAO,SAAPA,IAAO,GAAW;AAClB,oDAAO,iBAAWC,IAAX;AAAA;AAAA;AAAA;AAAA;AACH,iCAAKC,IAAL,GAAY,uBAAZ;AADG;AAAA,mCAEGD,IAFH;;AAAA;AAGH,iCAAKC,IAAL,IAAa,uBAAb;;AAHG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AAAA;AAKH,CAND;;AAQA,IAAIC,OAAO,SAAPA,IAAO,GAAW;AAClB,oDAAO,kBAAWF,IAAX;AAAA;AAAA;AAAA;AAAA;AACH,iCAAKC,IAAL,IAAa,WAASN,OAAO,CAAP,CAAT,GAAmB,gBAAhC;AADG;AAAA,mCAEGK,IAFH;;AAAA;AAGH,iCAAKC,IAAL,IAAa,WAASN,OAAO,CAAP,CAAT,GAAmB,gBAAhC;;AAHG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AAAA;AAKH,CAND;;AAQA,IAAIQ,OAAO,SAAPA,IAAO,GAAW;AAClB,oDAAO,kBAAWH,IAAX;AAAA;AAAA;AAAA;AAAA;AACH,iCAAKC,IAAL,IAAa,WAASN,OAAO,CAAP,CAAT,GAAmB,gBAAhC;AADG;AAAA,mCAEGK,IAFH;;AAAA;AAGH,iCAAKC,IAAL,IAAa,WAASN,OAAO,CAAP,CAAT,GAAmB,gBAAhC;;AAHG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AAAA;AAKH,CAND;;AAQAF,IAAIW,GAAJ,CAAQV,QAAR;AACAD,IAAIW,GAAJ,CAAQL,MAAR;AACAN,IAAIW,GAAJ,CAAQF,MAAR;AACAT,IAAIW,GAAJ,CAAQD,MAAR;;AAEAV,IAAIW,GAAJ,0CAAQ,kBAAWJ,IAAX;AAAA;AAAA;AAAA;AAAA;AACJ,yBAAKC,IAAL,IAAY,4BAA0BN,OAAO,EAAP,CAA1B,GAAqC,eAAjD;;AADI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAR;;AAIAF,IAAIY,MAAJ,CAAW,IAAX","file":"koa1.js","sourcesContent":["var Koa = require('koa');\nvar app = new Koa();\nvar logger = require('koa-logger');\n\nvar indent = function (n){\n    return Array(n).join('&nbsp');\n}\n\nvar mid1 = function() {\n    return function *(next){\n        this.body = '<h3>请求 => 第一层中间件</h3>';\n        yield next\n        this.body += '<h3>响应 <= 第一层中间件</h3>'\n    }\n}\n\nvar mid2 = function() {\n    return function *(next){\n        this.body += '<h3>请求'+indent(4)+'=> 第二层中间件</h3>';\n        yield next \n        this.body += '<h3>响应'+indent(4)+'<= 第二层中间件</h3>'\n    }\n}\n\nvar mid3 = function() {\n    return function *(next){\n        this.body += '<h3>请求'+indent(8)+'=> 第三层中间件</h3>'\n        yield next\n        this.body += '<h3>响应'+indent(8)+'<= 第三层中间件</h3>'\n    }\n}\n\napp.use(logger())\napp.use(mid1())\napp.use(mid2())\napp.use(mid3())\n\napp.use(function *(next){\n    this.body +='<p style=\"color: #f60\">'+indent(12)+'koa核心处理业务</p>'\n})\n\napp.listen(2111)"]}